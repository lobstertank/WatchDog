# –ê–Ω–∞–ª–∏–∑ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π WatchDog

## üìã –û–±–∑–æ—Ä

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–Ω–∞–ª–∏–∑ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –∫–æ–¥–µ, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å–∏—Å—Ç–µ–º—ã.

## üîç –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –∞–Ω–∞–ª–∏–∑–∞

–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è –ø—É—Ç–µ–º:
1. –ü–æ–∏—Å–∫–∞ –≤—Å–µ—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–π –≤ –∫–æ–¥–µ
2. –ü–æ–∏—Å–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –≤—ã–∑–æ–≤–æ–≤ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
3. –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

## ‚ùå –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. `get_planned_transactions_for_month(account_id, year, month)`
**–§–∞–π–ª:** `stable_functions.py:37`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–ª–∞–Ω–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –º–µ—Å—è—Ü  
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø  
**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `get_all_transactions_for_all_accounts()` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ API-–≤—ã–∑–æ–≤–æ–≤

### 2. `filter_transactions_by_month(transactions, year, month)`
**–§–∞–π–ª:** `stable_functions.py:200`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã–¥–µ–ª–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Å—è—Ü –∏–∑ —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞ –≥–æ–¥  
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø  
**–ü—Ä–∏—á–∏–Ω–∞:** –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ `analyze_all_accounts_balances()`

### 3. `get_all_transactions_for_year(account_id, start_date)`
**–§–∞–π–ª:** `stable_functions.py:82`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –≥–æ–¥ –≤–ø–µ—Ä–µ–¥ –æ—Ç –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∞—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π  
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø  
**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `get_all_transactions_for_all_accounts()` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 4. `send_negative_balance_report(transactions_by_account, send_telegram_message, allowed_users, forecast_func)`
**–§–∞–π–ª:** `stable_functions.py:259`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á–µ—Ç –æ–± –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Å—Ç–∞—Ç–∫–∞—Ö –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ  
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø  
**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `send_balance_analysis_report()` –¥–ª—è –µ–¥–∏–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### 5. `check_daily_balances_for_threats(account_id, planned_transactions)`
**–§–∞–π–ª:** `stable_functions.py:377`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å—á–µ—Ç–∞ –Ω–∞ —É–≥—Ä–æ–∂–∞—é—â–∏–µ –±–∞–ª–∞–Ω—Å—ã  
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø  
**–ü—Ä–∏—á–∏–Ω–∞:** –õ–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ `analyze_all_accounts_balances()`

### 6. `forecast(transactions_by_account=None)`
**–§–∞–π–ª:** `forecast.py:5`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤ –ø–æ –¥–Ω—è–º  
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø  
**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `analyze_all_accounts_balances()` –≤ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

## ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
- `make_request(url)` - –±–∞–∑–æ–≤—ã–π API-–∑–∞–ø—Ä–æ—Å
- `get_current_balance(account_id)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞
- `get_all_transactions_for_all_accounts(account_ids, start_date)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤
- `get_all_accounts()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤
- `get_current_balances(accounts)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤ –ø–æ —Å–ø–∏—Å–∫—É —Å—á–µ—Ç–æ–≤
- `calculate_daily_balances(...)` - —Ä–∞—Å—á–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤
- `send_telegram_message(bot_token, chat_id, text)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
- `send_positive_balance_report(...)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Å—Ç–∞—Ç–∫–∞—Ö
- `analyze_all_accounts_balances(...)` - –µ–¥–∏–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤
- `send_balance_analysis_report(...)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –µ–¥–∏–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π: 15
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ:** 10 —Ñ—É–Ω–∫—Ü–∏–π (67%)
- ‚ùå **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ:** 5 —Ñ—É–Ω–∫—Ü–∏–π (33%)

### –ü–æ —Ñ–∞–π–ª–∞–º:
- **`stable_functions.py`:** 13 —Ñ—É–Ω–∫—Ü–∏–π (4 –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ)
- **`forecast.py`:** 1 —Ñ—É–Ω–∫—Ü–∏—è (1 –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è)
- **`telegram_bot.py`:** 2 —Ñ—É–Ω–∫—Ü–∏–∏ (–≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
–ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
```python
# –í stable_functions.py
- get_planned_transactions_for_month()
- filter_transactions_by_month()
- get_all_transactions_for_year()
- send_negative_balance_report()
- check_daily_balances_for_threats()

# –í forecast.py
- forecast() (–≤–µ—Å—å —Ñ–∞–π–ª –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)
```

### 2. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–¥–∞–ª–µ–Ω–∏—è
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
- **–£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏:** –ú–µ–Ω—å—à–µ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è
- **–°–Ω–∏–∂–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:** –£–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### 3. –†–∏—Å–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ:** –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üîÑ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –≠–≤–æ–ª—é—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
1. **–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∞–Ω–∞–ª–∏–∑–∞
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è API:** –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ `get_all_transactions_for_all_accounts()`
3. **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞:** –°–æ–∑–¥–∞–Ω–∏–µ `analyze_all_accounts_balances()` –¥–ª—è –µ–¥–∏–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
4. **–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –ü—Ä–∏—á–∏–Ω—ã –∑–∞–º–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–π
- **`get_planned_transactions_for_month` ‚Üí `get_all_transactions_for_all_accounts`:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è API-–≤—ã–∑–æ–≤–æ–≤
- **`send_negative_balance_report` ‚Üí `send_balance_analysis_report`:** –ï–¥–∏–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–±–ª–µ–º
- **`check_daily_balances_for_threats` ‚Üí `analyze_all_accounts_balances`:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ–±—â–∏–π –∞–Ω–∞–ª–∏–∑
- **`forecast` ‚Üí `analyze_all_accounts_balances`:** –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í —Å–∏—Å—Ç–µ–º–µ WatchDog –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ **5 –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π** (33% –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞), –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —ç–≤–æ–ª—é—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞. –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã.

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 18.09.2025  
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** 1.0  
**–ê–Ω–∞–ª–∏—Ç–∏–∫:** WatchDog Development Team
